<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Yaniv</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous" />
  </head>
  <body>
    <dialog id="newGameDialog">
      <div style="display: flex; align-items: center;">
        <h1 class="h5">New Game</h1>
        <form method="dialog" style="margin-left: auto">
          <button
            class="btn-close" aria-label="Close"
            style="margin-bottom: 0.5rem;">
          </button>
        </form>
      </div>
      <p>
        To start a new game, enter the names of the players on one line each.
      </p>
      <form method="dialog">
        <div class="form-floating mb-3">
        <textarea
          id="playerNames" autofocus
          class="form-control" style="height: 8rem"></textarea>
        <label for="playerNames">Player names</label>
        </div>
        <button
          id="startNewGameButton" formmethod="dialog"
          class="btn btn-primary" style="float: right;"
        >
          Start
        </button>
      </form>
    </dialog>

    <div class="container">
      <h1>Yaniv</h1>

      <p>
        This is a score keeper for the card game
        <a href="https://en.wikipedia.org/wiki/Yaniv_(card_game)">Yaniv</a>.
      </p>
      <p>
        This game and its scores will be lost when you start a new game or close this tab.
      </p>

      <div class="card my-3">
        <div class="card-body">
          <div class="row mb-3">
            <div class="btn-toolbar" role="toolbar" style="justify-content: end;">
              <input id="resetScores"
                type="reset" value="Restart"
                class="btn btn-outline-danger mx-1"
              >
              <button id="newGameButton"
                class="btn btn-outline-primary mx-1"
              >New game</button>
            </div>
          </div>
          <div class="row">
            <div class="col-sm">
              <div id="scoreBoard"></div>
            </div>
            <div class="col-sm">
              <form onsubmit="return false;">
                <div id="playerInputs"></div>
                <button id="submitScores" type="submit" class="btn btn-primary">Submit</button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <div class="card my-3">
        <div class="card-body">
          <h5 class="card-title">All rounds</h5>
          <div>
            <input id="undoLastRound" type="button" class="btn btn-outline-warning mx-1" value="Undo" style="float: right;">
          </div>
          <div id="gameHistory"></div>
        </div>
      </div>
    </div>

    <template id="scoreBoardTemplate">
      <table id="scoreBoard" class="table">
        <tbody></tbody>
      </table>
    </template>

    <template id="scoreBoardRowTemplate">
      <tr>
        <th scope="row"></th>
        <td></td>
      </tr>

    </template>

    <template id="playerInputTemplate">
      <div class="row align-items-center">
        <div class="col">
          <div class="form-floating mb-3">
            <input type="number" inputmode="numeric" class="form-control">
            <label></label>
          </div>
        </div>
        <div class="col-auto">
          <button
            class="btn-close" aria-label="Close"
            style="margin-bottom: 1rem;">
          </button>
        </div>
      </div>
    </template>

    <template id="gameHistoryTemplate">
      <table id="gameHistory" class="table">
        <thead><tr></tr></thead>
        <tbody></tbody>
      </table>
    </template>

    <script src="index.js"></script>
  </body>
</html>
